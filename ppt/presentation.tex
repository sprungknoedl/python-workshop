\documentclass{beamer}
\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage{graphicx}
\usepackage{lmodern}
\usepackage{listings}
\usepackage{color}

\lstset{
    language=Python,
    basicstyle=\scriptsize,
    breakatwhitespace=true,breaklines=true,%
    tabsize=2, % Tabulatorbreite
    showstringspaces=false
}

\hypersetup{
    pdftitle={\inserttitle},
    pdfsubject={\inserttitle},
    pdfauthor={\insertauthor},
    pdfkeywords={\inserttitle},
    pdfstartview={FitH}
}

\usetheme{default}
\beamertemplatenavigationsymbolsempty
\titlegraphic{\includegraphics[height=2cm]{hk-logo.png}}
%\logo{\includegraphics[height=1cm]{hk-logo.png}}

\title[Python Workshop]{Hackinggroup -- Python Workshop}
\subtitle{A tale about dutch ducks with a fable for British comedy}
\author[Thomas Kastner, Michael Rodler]{Thomas Kastner\and Michael Rodler}
\date{\today}

\begin{document}

\begin{frame}
    \titlepage
\end{frame}

\begin{frame}
    \frametitle{Table of contents -- Wos ma heit mochn}
    \tableofcontents
\end{frame}

\section{Introduction}
%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}
    \frametitle{Introduction -- Wer san ma denn?}

    \begin{block}{Michael Rodler}
    \begin{itemize}
        \item aka f0rk, f0rki, f0rkmaster, Gabel, etc.
        \item Student SIB09
        \item 3 years coding python for fun
        \item 3 months coding python for profit
    \end{itemize}
    \end{block}

    \begin{block}{Thomas Kastner}
    \begin{itemize}
        \item aka br3z3l, tom
        \item Student SIB08
        \item 4 years coding python for fun
    \end{itemize}
    \end{block}
\end{frame}


\begin{frame}[fragile]
	\frametitle{GO! -- TU ES!}
	\pause
    \begin{exampleblock}{python}
    \begin{lstlisting}
>>> import antigravity
    \end{lstlisting}
    \end{exampleblock}
\end{frame}


\section{Syntax}
%%%%%%%%%%%%%%%%
\subsection{Hello World}
\begin{frame}[fragile]
    \frametitle{Every tutorial has this -- Braucht ma oafoch}
    \begin{block}{Wikipedia about ``Hello World!''}
    A ``Hello World'' program is a computer program which prints out ``Hello World!'' on a display device. It is used in many introductory tutorials for teaching a programming language.
    \end{block}

    \begin{exampleblock}{python}
    \begin{lstlisting}
>>> print "Hello World!" 
    \end{lstlisting}
    \end{exampleblock}
\end{frame}

\subsection{About variables \& types}
\begin{frame}[fragile]
	\frametitle{About variables \& types}
	\begin{alertblock}{dynamic strong typed}
	\begin{itemize}
	\item dynamic -- any variable, any type
	\item strong -- no magic type casting
	\end{itemize}
	\pause
	\end{alertblock}
	\begin{exampleblock}{python}
	\begin{lstlisting}
>>> x = 42
>>> x = "If it looks like a duck and quacks like a duck, it must be a duck."
>>> x = ["beer", "wine", "cheese"]
	\end{lstlisting}
	\end{exampleblock}

	\pause

	\begin{exampleblock}{python}
	\begin{lstlisting}
>>> x = "duck" + 42
TypeError: cannot concatenate 'str' and 'int' objects

>>> x = "duck" + str(42)
	\end{lstlisting}
	\end{exampleblock}
\end{frame}

\begin{frame}[fragile]
	\frametitle{list, dict, tuple -- Eh ois des sÃ¶be?}
	
	%TODO: insert pauses between code lines
	\begin{exampleblock}{python}
	\begin{lstlisting}
>>> party = ["cheese", "wine"]
>>> party.append("girls")
>>> party[0] = "beer"
>>> party += ["schnops", "punsch"]
>>> xmasparty = x[2:]
>>> print xmasparty
	\end{lstlisting}
	\end{exampleblock}
	
	\pause
	
	\begin{exampleblock}{python}
	\begin{lstlisting}
>>> x = {"awesome": "barney", 42: "the answer"}
>>> x["awesome"]
>>> x[42]
	\end{lstlisting}
	\end{exampleblock}

	\pause

	\begin{exampleblock}{python}
	\begin{lstlisting}
>>> x = (13, 37)
>>> a, b = x
>>> b, a = a, b
	\end{lstlisting}
	\end{exampleblock}
	%LIVE:
	% Unterschied Listen/Tupel Immutable vs. Mutable
	% Zuweisung an Tupel Element x[1] = "no way!"
	% tupel als dict key {(1,2): "fu"}
\end{frame}


\subsection{Control statements}
\begin{frame}[fragile]
    \frametitle{what \textbf{if}? -- A if-Schleife}
    
    \begin{exampleblock}{python}
    \begin{lstlisting}
>>> if (True or False):
...     print "win"
... else:
...     print "fail"
...
    \end{lstlisting}
    \end{exampleblock}
    
	\pause

    \begin{block}{Truth value testing}
    Any object can be tested for truth value. The following values are considered \emph{false}:
    \begin{itemize}
        \item None, False, 0
        \item any empty sequence, for example: "", (), []
        \item any empty mapping, for example: \{\}
    \end{itemize}
    All other values are considered \emph{true}
    \end{block}
\end{frame}

\begin{frame}[fragile]
    \frametitle{\textbf{for} as long as I live ...}
    
    \begin{exampleblock}{python}
    \begin{lstlisting}
>>> for word in ["python", "is", "awesome"]:
...     print word
    \end{lstlisting}
    \end{exampleblock}

    \begin{exampleblock}{python}
    \begin{lstlisting}
>>> for word in "python is so fucking awesome".split():
...     print word

>>> for character in "python is so fucking awesome":
...     print character
    \end{lstlisting}
    \end{exampleblock}

	\pause

    \begin{block}{Iterating over what?}
    \begin{itemize}
    \item returns next element, each round
    \item every python container type
    \item yo mama's objects %(must implement the python iterator protocol)
    \end{itemize}
    \end{block}
\end{frame}

\begin{frame}[fragile]
	\frametitle{Curiosity killed the cat, but for a \textbf{while} I was a suspect.} %Steven Wright quote (comedian)

	\begin{exampleblock}{python}
	\begin{lstlisting}
>>> while not False:
...     print "print"
	\end{lstlisting}
	\end{exampleblock}
	
	\pause
	
	\begin{exampleblock}{python}
	\begin{lstlisting}
>>> while state != "legendary":
...     wait_for_it()
	\end{lstlisting}
	\end{exampleblock}

	\pause
	
	\begin{block}{jumping}
	you can also \textbf{break} and \textbf{continue}.
	\end{block}
\end{frame}

\subsection{About functions \& methods}
\begin{frame}[fragile]
	\frametitle{About functions \& methods}
	Where is the fucking difference? \pause -- There actually is none \pause
	\begin{exampleblock}{python}
	\begin{lstlisting}
>>> def doSomething(arg):
... 	print "function args: " + str(arg)
... 	return str(arg)
...
>>> x = doSomething("for the lulz")
	\end{lstlisting}
	\pause	
	\begin{lstlisting}
>>> def func(arg0, arg1="default", *args, **kwargs):
... 	print "arg0 =", arg0
... 	print "arg1 =", arg1
... 	print "args =", args
... 	print "kwargs =", kwargs
...
>>> func(1, 2, 3, 4, 5, 6, john="doe", fu="bar")
>>> func(1, we="don't need", no="overloading!")
	\end{lstlisting}
	\end{exampleblock}
\end{frame}

\section{That's why Python is awesome?}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Zen of Python -- by Tim Peters} 
\begin{frame}[fragile, shrink]
    \frametitle{Zen of Python}

    \begin{exampleblock}{python}
    \begin{lstlisting}
>>> import this
    \end{lstlisting}
    \end{exampleblock}

    \scriptsize
    \emph{
    Beautiful is better than ugly.\\
    Explicit is better than implicit.\\
    Simple is better than complex.\\
    Complex is better than complicated.\\
    Flat is better than nested.\\
    Sparse is better than dense.\\
    Readability counts.\\
    Special cases aren't special enough to break the rules.\\
    Although practicality beats purity.\\
    Errors should never pass silently.\\
	Unless explicitly silenced.\\
	In the face of ambiguity, refuse the temptation to guess.\\
	There should be one -- and preferably only one -- obvious way to do it.\\
	Although that way may not be obvious at first unless you're Dutch.\\
	Now is better than never.\\
	Although never is often better than *right* now.\\
	If the implementation is hard to explain, it's a bad idea.\\
	If the implementation is easy to explain, it may be a good idea.\\
	Namespaces are one honking great idea -- let's do more of those!
    }

\end{frame}

\subsection{Coding style}
\begin{frame}[fragile]
	\frametitle{python coding style -- actually a religion}
	Read the Python Enhancement Proposal 0008 -- \url{http://www.python.org/dev/peps/pep-0008/}
	\begin{block}{important}
	\begin{itemize}
	\item 4 whitespaces indentation (deprecated: tab-only)
	\item whitespaces around operators but not around brackets
	\item use docstrings!
	\item naming conventions
		\begin{itemize}
		\item package and module -- all lowercase
		\item class -- CapWords/CamelCase
		\item variables and functions -- all lowercase with underscore as word seperator
		\end{itemize}
	\item comparison with Singletons (e.g. None, True) use \emph{is} keyword
	\end{itemize}
	\end{block}

\end{frame}

\subsection{Code like a pythonista} 
    % Beispiele aus der "Code like a Pythonista" praesentation
\begin{frame}[fragile]
	\frametitle{code like a pythonista}
    ``Programs must be written for people to read, and only incidentally for machines to execute.'' -- Abelson \& Sussman\\
	\pause    
    
    \begin{alertblock}{not pythonic}
    \begin{lstlisting}
colors = ['red', 'blue', 'green', 'yellow']
result = ''
for s in colors:
    result += s
    \end{lstlisting}
    \end{alertblock}
  	\pause
    \begin{exampleblock}{pythonic}
    \begin{lstlisting}
result = ''.join(colors)
result = ', '.join(colors)
    \end{lstlisting}
    \end{exampleblock}
\end{frame}

\begin{frame}[fragile]
	\frametitle{code like a pythonista}
	
	``Debugging is twice as hard as writing the code in the first place. Therefore, if you write the code as cleverly as possible, you are, by definition, not smart enough to debug it.'' -- Brian W. Kernighan
	\pause

	\begin{alertblock}{not pythonic}
	\begin{lstlisting}
for key in d.keys():
    print key

if d.has_key(key):
    do_something_with(d[key])
    \end{lstlisting}
	\end{alertblock}
  	\pause	
	\begin{exampleblock}{pythonic}
	\begin{lstlisting}
for key in d:
    print key

if key in d:
    do_something_with(d[key])
    \end{lstlisting}
	\end{exampleblock}
\end{frame}

\begin{frame}[fragile]
	\frametitle{code like a pythonista}
	
	\begin{alertblock}{not pythonic}
	\begin{lstlisting}
if x == True:
    do_something()

if len(items) != 0:
    do_something()
    
if items != []: # yuck!
    do_something()
    \end{lstlisting}
	\end{alertblock}
 	\pause
	\begin{exampleblock}{pythonic}
	\begin{lstlisting}
if x:
    do_something()
    
if items:
    do_something()    
    \end{lstlisting}
	\end{exampleblock}
\end{frame}

\begin{frame}[fragile]
	\frametitle{code like a pythonista}

	\begin{exampleblock}{pythonic}
	\begin{lstlisting}
>>> items = "zero one two three".split()
>>> print items
    \end{lstlisting}
	\end{exampleblock}
  	\pause
	\begin{alertblock}{not pythonic}
	\begin{lstlisting}
index = 0
for item in items:
    print index, item
    index += 1

for i in range(len(items)):
    print i, items[i]
    \end{lstlisting}
	\end{alertblock}
  	\pause	
	\begin{exampleblock}{pythonic}
    \begin{lstlisting}
for (index, item) in enumerate(items):
    print index, item
    \end{lstlisting}
	\end{exampleblock}
\end{frame}

\begin{frame}[fragile]
	\frametitle{code like a pythonista}
	
	\begin{alertblock}{bad idea}
	\begin{lstlisting} 
def bad_append(new_item, a_list=[]):
    a_list.append(new_item)
    return a_list
    \end{lstlisting}% will always return the SAME list object
	\end{alertblock}
 	\pause
	\begin{exampleblock}{good idea}
	\begin{lstlisting}
def good_append(new_item, a_list=None):
    if a_list is None:
        a_list = []
    a_list.append(new_item)
    return a_list
    \end{lstlisting}
	\end{exampleblock}
\end{frame}


\subsection{ALLES ist ein Objekt}

\begin{frame}[fragile]
	\frametitle{everything is an object}
	actually:
	\begin{itemize}
	\item no primitve types, pure OOP
	\item no literals, only references to singleton objects
	\item doesn't make much difference
	\end{itemize}
	\begin{exampleblock}{python}
	\begin{lstlisting}
>>> x = 21
>>> x += 21
>>> x = x.__add__(21)
	\end{lstlisting}
	\end{exampleblock}
\end{frame}

	
\section{Standard Library}
%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Importing modules}
\subsection{sys} 
    % parameter einlesen, basic informationen auslesen
\subsection{os, os.path} 
    % path handling, 
\subsection{RTFM -- Hilfe zur Selbsthilfe}  
    %  help(), pydoc, online doku 

\section{Input/Output } 
    % auf Dateien, stdin/out/err

% Beispiel
\section{re Modul}
% Beispiel


\begin{frame}
	\frametitle{References}
	\begin{thebibliography}{3}
	\bibitem{kopf} the authors' epic python knowledge
	\bibitem{pydoc} \url{http://docs.python.org/}
	\bibitem{codelikeapythonista} Code like a Pythonista -- \url{http://python.net/~goodger/projects/pycon/2007/idiomatic/presentation.html}
	\bibitem{diveintopython} \url{http://diveintopython.org/}
	\end{thebibliography}
\end{frame}

\end{document}
